const popup=document.getElementById("popupDiv"),buttons=document.getElementsByClassName("moduleBtn"),popupCounterText=document.getElementById("popupCounterText"),xIcon=document.getElementById("popupCloseIcon"),resetBtn=document.getElementById("counterResetBtn"),localStorage=window.localStorage,btnsCounters=[{}],togglePopup=()=>{popup.classList.toggle("show")},setBtnsCounters=()=>{for(var t of buttons){localStorage.getItem(t.id)||localStorage.setItem(t.id,0);var e={button:t.id,counter:localStorage.getItem(t.id)};btnsCounters.push(e),t.addEventListener("click",t=>counterIncreaseValue(t))}},counterIncreaseValue=({target:e})=>{for(let t of btnsCounters)t.button==e.id&&(t.counter++,popupCounterText.textContent=t.counter+" times",5<t.counter?(resetBtn.style.display="flex",resetBtn.addEventListener("click",()=>{t.counter=0,togglePopup(),localStorage.setItem(t.button,t.counter)})):resetBtn.style.display="none",localStorage.setItem(t.button,t.counter),togglePopup())};setBtnsCounters(),xIcon.addEventListener("click",togglePopup),popup.addEventListener("click",({target:t})=>{document.getElementById("popupCard").contains(t)||togglePopup()});