const popup=document.getElementById("popupContainer"),buttons=document.getElementsByClassName("moduleBtn"),popupCounterText=document.getElementById("popupCounterText"),xIcon=document.getElementById("xIcon"),resetBtn=document.getElementById("resetBtn"),localStorage=window.localStorage,btnsCounters=[{}],showPopup=()=>{popup.style.visibility="visible"},hidePopup=()=>{popup.style.visibility="hidden"},setBtnsCounters=()=>{for(var e of buttons){localStorage.getItem(e.id)||localStorage.setItem(e.id,0);var t={button:e.id,counter:localStorage.getItem(e.id)};btnsCounters.push(t),e.addEventListener("click",e=>counterIncreaseValue(e))}},counterIncreaseValue=({target:t})=>{for(let e of btnsCounters)e.button==t.id&&(e.counter++,popupCounterText.textContent=e.counter+" times",5<e.counter?(resetBtn.style.display="flex",resetBtn.addEventListener("click",()=>{e.counter=0,localStorage.setItem(e.button,e.counter),hidePopup()})):resetBtn.style.display="none",localStorage.setItem(e.button,e.counter),showPopup())};setBtnsCounters(),xIcon.addEventListener("click",hidePopup),popup.addEventListener("click",({target:e})=>{document.getElementById("popup").contains(e)||hidePopup()}),console.log(localStorage);